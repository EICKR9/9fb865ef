<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0,viewport-fit=cover">
    <title>使用浏览器打开1</title>
	<script src="https://cdn.jsdelivr.net/npm/js-base64@3.7.5/base64.min.js"></script>
</head>
<body>
    <div id="tips" style="font-size:25px;text-align: center;line-height: 50px;"><a id="pbase64"></a></div>
    <script>
    var url = document.location.toString();
    var urlParmStr = url.slice(url.indexOf('=')+1);
    var urlBase64 = Base64.decode(url.slice(url.indexOf('=')+1)); 
    var ua = navigator.userAgent.toLowerCase();
    var isQQ = ua.indexOf('qq') != -1; // 判断是否在QQ浏览器打开
    var isWeixin = ua.indexOf('micromessenger') != -1; // 判断是否在微信客户端打开
    var isAndroid = ua.indexOf('android') != -1; // 判断是否在Android平台
    var isIos = (ua.indexOf('iphone') != -1) || (ua.indexOf('ipad') != -1); // 判断是否在iOS平台
    var QQbrw = u.indexOf('MQQBrowser') > -1, // QQ浏览器
    var is360 = check360() && (ua.indexOf("Safari") > -1) //判断是是否360浏览器
	
    var notice_openBrowser = "<h2>请点击右上角，通过浏览器打开本页面。</h2><br />不得不看的内容，复制到浏览器打吧：<b style=\"color:red\">jjj</b>"

	console.log(urlParmStr);
	document.getElementById("pbase64").innerHTML=urlBase64;
	    
    // 判断是不是在微信客户端或QQ浏览器打开
    if(isWeixin || isQQ || QQbrw || is360) {
    // 判断是在Android的微信客户端还是Ios的微信客户端
    if (isAndroid) {
    document.getElementById("tips").innerHTML=notice_openBrowser;
    }else if (isIos) {
    document.getElementById("tips").innerHTML=notice_openBrowser;
    }else{
    document.getElementById("tips").innerHTML=notice_openBrowser;
    }
    } else {
    // 不是微信客户端，直接可以访问链接

     location.href=urlBase64;
	    
    }
</script>
</body>
</html>
